{"filter":false,"title":"script.js","tooltip":"/script.js","undoManager":{"mark":14,"position":14,"stack":[[{"start":{"row":0,"column":0},"end":{"row":15,"column":0},"action":"insert","lines":["// define frequently used constants","const API_URL = 'https://api.foursquare.com/v2';","const CLIENT_ID = 'Q2RSSYGEK5A52WDCZLAQ1TEML510P3XPGUC1JLY2H3UT31NW';","const CLIENT_SECRET = \"AZKZJIRQOC3HUXHN5SJJXV3ZT0JCTPZ0SZ5NTBWGJO5OWWLT\";","","/* global axios */","/* global $ */","/* global mapboxgl*/","/* global MapboxGeocoder*/","/* global MapboxDirections*/","","","/* global variables */","let map;","let all_markers = [];",""],"id":1}],[{"start":{"row":15,"column":0},"end":{"row":16,"column":0},"action":"insert","lines":["",""],"id":2}],[{"start":{"row":16,"column":0},"end":{"row":30,"column":1},"action":"insert","lines":["function testFourSquare()","{","    axios.get(API_URL + \"/venues/explore\", {","        params: {","            \"client_id\":CLIENT_ID,  ","            \"client_secret\":CLIENT_SECRET,","            \"v\":'20193009', // v for is the version","            \"limit\":10, // limit is how many results returned","            \"ll\":'1.2933,103.7831', // latitude/longtitude","            \"query\":'coffee' // what we are searching for","       }","    }).then(function(response){","      console.log(response.data.response.groups[0].items);  ","    })","}"],"id":3}],[{"start":{"row":30,"column":1},"end":{"row":31,"column":0},"action":"insert","lines":["",""],"id":4}],[{"start":{"row":31,"column":0},"end":{"row":32,"column":0},"action":"insert","lines":["",""],"id":5}],[{"start":{"row":32,"column":0},"end":{"row":48,"column":19},"action":"insert","lines":["//to put map on html ","function setupMap()","{","    mapboxgl.accessToken = \"pk.eyJ1IjoidmluY2VudGthbiIsImEiOiJjazE3aTJhdzUwOHE2M3FtemJ1eHU2NXByIn0.QdvNqEBV2P657xWrqU8UMw\";","    ","    map = new mapboxgl.Map({","    container: 'map', // naming my map ","    style:'mapbox://styles/mapbox/streets-v11', // how the map looks on html","    center:[103.8198, 1.3521], // center of map set at singapore ","    zoom:10 // how zoomed we are ","    });","    ","    //add search function","    map.addControl(new MapboxGeocoder({","    accessToken: mapboxgl.accessToken,","    mapboxgl: mapboxgl","    }),'top-left');"],"id":6}],[{"start":{"row":48,"column":19},"end":{"row":49,"column":0},"action":"insert","lines":["",""],"id":7},{"start":{"row":49,"column":0},"end":{"row":49,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":49,"column":4},"end":{"row":50,"column":0},"action":"insert","lines":["",""],"id":8},{"start":{"row":50,"column":0},"end":{"row":50,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":50,"column":4},"end":{"row":61,"column":5},"action":"insert","lines":["//add style to map","    var layerList = document.getElementById('menu');","    var inputs = layerList.getElementsByTagName('input');"," ","    function switchLayer(layer) {","    var layerId = layer.target.id;","    map.setStyle('mapbox://styles/mapbox/' + layerId);","    }"," ","    for (var i = 0; i < inputs.length; i++) {","    inputs[i].onclick = switchLayer;","    }"],"id":9}],[{"start":{"row":61,"column":5},"end":{"row":62,"column":0},"action":"insert","lines":["",""],"id":10},{"start":{"row":62,"column":0},"end":{"row":62,"column":4},"action":"insert","lines":["    "]},{"start":{"row":62,"column":4},"end":{"row":63,"column":0},"action":"insert","lines":["",""]},{"start":{"row":63,"column":0},"end":{"row":63,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":63,"column":4},"end":{"row":66,"column":23},"action":"insert","lines":["//added driving directions to map","    map.addControl(new MapboxDirections({","    accessToken: mapboxgl.accessToken","    }), 'bottom-left');"],"id":11}],[{"start":{"row":66,"column":23},"end":{"row":67,"column":0},"action":"insert","lines":["",""],"id":12},{"start":{"row":67,"column":0},"end":{"row":67,"column":4},"action":"insert","lines":["    "]},{"start":{"row":67,"column":4},"end":{"row":68,"column":0},"action":"insert","lines":["",""]},{"start":{"row":68,"column":0},"end":{"row":68,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":68,"column":4},"end":{"row":79,"column":1},"action":"insert","lines":["     // Add zoom and rotation controls to the map.","    map.addControl(new mapboxgl.NavigationControl());","","    // Add geolocate control to the map.","    map.addControl(new mapboxgl.GeolocateControl({","    positionOptions: {","    enableHighAccuracy: true","    },","    trackUserLocation: true","    }));","    ","}"],"id":13}],[{"start":{"row":79,"column":1},"end":{"row":80,"column":0},"action":"insert","lines":["",""],"id":14},{"start":{"row":80,"column":0},"end":{"row":81,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":81,"column":0},"end":{"row":101,"column":30},"action":"insert","lines":["$(function(){","   ","   setupMap();","   ","   $('#search-button').click(function(){","       ","        let search_terms = $('#search-terms').val();","        let center = map.getCenter();","        console.log(center);","","        axios.get(API_URL + \"/venues/explore\", {","        params: {","            \"client_id\":CLIENT_ID,  ","            \"client_secret\":CLIENT_SECRET,","            \"v\":'20193009', // version","            \"limit\":100, // no of results returned ","            \"ll\":center.lat + \",\" + center.lng, // latitude/longtitude","            \"query\":search_terms // things we searching for ","       }","        }).then(function(response){","        $(\"#results\").empty();"],"id":15}]]},"ace":{"folds":[],"scrolltop":1138,"scrollleft":0,"selection":{"start":{"row":101,"column":30},"end":{"row":101,"column":30},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":70,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1571385395597,"hash":"f07e64456812de242548336edd01dbc74d7e9fe9"}