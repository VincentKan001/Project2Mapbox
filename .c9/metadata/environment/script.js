{"changed":true,"filter":false,"title":"script.js","tooltip":"/script.js","value":"// define frequently used constants\nconst API_URL = 'https://api.foursquare.com/v2';\nconst CLIENT_ID = 'Q2RSSYGEK5A52WDCZLAQ1TEML510P3XPGUC1JLY2H3UT31NW';\nconst CLIENT_SECRET = \"AZKZJIRQOC3HUXHN5SJJXV3ZT0JCTPZ0SZ5NTBWGJO5OWWLT\";\n\n/* global axios */\n/* global $ */\n/* global mapboxgl*/\n/* global MapboxGeocoder*/\n/* global MapboxDirections*/\n\n\n/* global variables */\nlet map;\nlet all_markers = [];\n\nfunction testFourSquare()\n{\n    axios.get(API_URL + \"/venues/explore\", {\n        params: {\n            \"client_id\":CLIENT_ID,  \n            \"client_secret\":CLIENT_SECRET,\n            \"v\":'20193009', // v for is the version\n            \"limit\":10, // limit is how many results returned\n            \"ll\":'1.2933,103.7831', // latitude/longtitude\n            \"query\":'coffee' // what we are searching for\n       }\n    }).then(function(response){\n      console.log(response.data.response.groups[0].items);  \n    })\n}\n\n//to put map on html \nfunction setupMap()\n{\n    mapboxgl.accessToken = \"pk.eyJ1IjoidmluY2VudGthbiIsImEiOiJjazE3aTJhdzUwOHE2M3FtemJ1eHU2NXByIn0.QdvNqEBV2P657xWrqU8UMw\";\n    \n    map = new mapboxgl.Map({\n    container: 'map', // naming my map \n    style:'mapbox://styles/mapbox/streets-v11', // how the map looks on html\n    center:[103.8198, 1.3521], // center of map set at singapore \n    zoom:10 // how zoomed we are \n    });\n    \n    //add search function\n    map.addControl(new MapboxGeocoder({\n    accessToken: mapboxgl.accessToken,\n    mapboxgl: mapboxgl\n    }),'top-left');\n    \n    //add style to map\n    var layerList = document.getElementById('menu');\n    var inputs = layerList.getElementsByTagName('input');\n \n    function switchLayer(layer) {\n    var layerId = layer.target.id;\n    map.setStyle('mapbox://styles/mapbox/' + layerId);\n    }\n \n    for (var i = 0; i < inputs.length; i++) {\n    inputs[i].onclick = switchLayer;\n    }\n    \n    //added driving directions to map\n    map.addControl(new MapboxDirections({\n    accessToken: mapboxgl.accessToken\n    }), 'bottom-left');","undoManager":{"mark":8,"position":10,"stack":[[{"start":{"row":0,"column":0},"end":{"row":15,"column":0},"action":"insert","lines":["// define frequently used constants","const API_URL = 'https://api.foursquare.com/v2';","const CLIENT_ID = 'Q2RSSYGEK5A52WDCZLAQ1TEML510P3XPGUC1JLY2H3UT31NW';","const CLIENT_SECRET = \"AZKZJIRQOC3HUXHN5SJJXV3ZT0JCTPZ0SZ5NTBWGJO5OWWLT\";","","/* global axios */","/* global $ */","/* global mapboxgl*/","/* global MapboxGeocoder*/","/* global MapboxDirections*/","","","/* global variables */","let map;","let all_markers = [];",""],"id":1}],[{"start":{"row":15,"column":0},"end":{"row":16,"column":0},"action":"insert","lines":["",""],"id":2}],[{"start":{"row":16,"column":0},"end":{"row":30,"column":1},"action":"insert","lines":["function testFourSquare()","{","    axios.get(API_URL + \"/venues/explore\", {","        params: {","            \"client_id\":CLIENT_ID,  ","            \"client_secret\":CLIENT_SECRET,","            \"v\":'20193009', // v for is the version","            \"limit\":10, // limit is how many results returned","            \"ll\":'1.2933,103.7831', // latitude/longtitude","            \"query\":'coffee' // what we are searching for","       }","    }).then(function(response){","      console.log(response.data.response.groups[0].items);  ","    })","}"],"id":3}],[{"start":{"row":30,"column":1},"end":{"row":31,"column":0},"action":"insert","lines":["",""],"id":4}],[{"start":{"row":31,"column":0},"end":{"row":32,"column":0},"action":"insert","lines":["",""],"id":5}],[{"start":{"row":32,"column":0},"end":{"row":48,"column":19},"action":"insert","lines":["//to put map on html ","function setupMap()","{","    mapboxgl.accessToken = \"pk.eyJ1IjoidmluY2VudGthbiIsImEiOiJjazE3aTJhdzUwOHE2M3FtemJ1eHU2NXByIn0.QdvNqEBV2P657xWrqU8UMw\";","    ","    map = new mapboxgl.Map({","    container: 'map', // naming my map ","    style:'mapbox://styles/mapbox/streets-v11', // how the map looks on html","    center:[103.8198, 1.3521], // center of map set at singapore ","    zoom:10 // how zoomed we are ","    });","    ","    //add search function","    map.addControl(new MapboxGeocoder({","    accessToken: mapboxgl.accessToken,","    mapboxgl: mapboxgl","    }),'top-left');"],"id":6}],[{"start":{"row":48,"column":19},"end":{"row":49,"column":0},"action":"insert","lines":["",""],"id":7},{"start":{"row":49,"column":0},"end":{"row":49,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":49,"column":4},"end":{"row":50,"column":0},"action":"insert","lines":["",""],"id":8},{"start":{"row":50,"column":0},"end":{"row":50,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":50,"column":4},"end":{"row":61,"column":5},"action":"insert","lines":["//add style to map","    var layerList = document.getElementById('menu');","    var inputs = layerList.getElementsByTagName('input');"," ","    function switchLayer(layer) {","    var layerId = layer.target.id;","    map.setStyle('mapbox://styles/mapbox/' + layerId);","    }"," ","    for (var i = 0; i < inputs.length; i++) {","    inputs[i].onclick = switchLayer;","    }"],"id":9}],[{"start":{"row":61,"column":5},"end":{"row":62,"column":0},"action":"insert","lines":["",""],"id":10},{"start":{"row":62,"column":0},"end":{"row":62,"column":4},"action":"insert","lines":["    "]},{"start":{"row":62,"column":4},"end":{"row":63,"column":0},"action":"insert","lines":["",""]},{"start":{"row":63,"column":0},"end":{"row":63,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":63,"column":4},"end":{"row":66,"column":23},"action":"insert","lines":["//added driving directions to map","    map.addControl(new MapboxDirections({","    accessToken: mapboxgl.accessToken","    }), 'bottom-left');"],"id":11}]]},"ace":{"folds":[],"scrolltop":578,"scrollleft":0,"selection":{"start":{"row":66,"column":23},"end":{"row":66,"column":23},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":35,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1571385268451}